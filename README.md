# hh_parser
Parser for research info of vacancies of 'Data Analyst', 'Data Science',  'Data Engineer'
Парсер вакансий ('Data Analyst', 'Data Science',  'Data Engineer') работает через API hh.ru. Путем запроса (json формат) получает информацию о вакансиях в городе (городах), с последующим сохранением в базе данных Postgres. Ссылка на документацию к API -https://api.hh.ru/openapi/redoc#section/Obshaya-informaciya

Ссылка на прототип парсера через API hh.ru - https://github.com/shakhbanov/HeadHunter

1. Клонирование репозитория 

```git clone https://github.com/Serg1640/hh_parser.git```

2. Переход в директорию Parser

```cd hh_parser```

3. Создание виртуального окружения

```python -m venv venv```

4. Активация виртуального окружения

```source venv/bin/activate```

5. Установка зависимостей

```pip install -r requirements.txt``

<!--зависимости-->
## Зависимости
Эта программа зависит от интепретатора Python версии 3.10 или выше, PIP 23.2.1 или выше.
Для запуска требуется установленная система управления базами данных PostgreSQL.

## Описание работы программы

1) Подключение к API сайта hh.ru. Пользователь должен быть авторизован на сайте (без получения уникального токена), иначе будет ошибка доступа к вакансиям.
2) При первом запуске создается база данных Postgresql с последующим созданием таблицы вакансий с различными полями: опыт работы, навыки, зарплата и т.д. 
3) В случае повторного запуска скрипта происходит обновление базы данных путем удаления старой таблицы и создании новой.
4) Парсинг вакансий, ответ в формате json.
5) Перенос полученных данных в PostgresSql.
   ![image](https://github.com/user-attachments/assets/06254594-5f0c-401f-9d07-18a64f18a9e6)
6) Удаление дубликатов (на случай получениях одинаковых вакансий при схожих запросах, либо при одной вакансии на несколько городов).
7) Получение данных из PostgresSql, трансформация в pandas dataframe.
8) Запрос к информации из БД. Структура запроса: сортировка по условию - названия профессий ('Data Analyst', 'Data Science',  'Data Engineer'), подсчет количество вакансий по профессии по требованию к стажу (нет опыта - junior, опыт от 1 года до 3 лет - middle, опыт от 3 до 6 лет - middle+, опыт более 6 лет - senior).
    ![image](https://github.com/user-attachments/assets/321b6cd1-8d37-4166-b7a5-851a206c6820)

9) Подготовка графического представления в формате a pie: количество вакансий по отношению к требованию по опыту. К примеру, вакансии Data Engineer в г. Москва       
![image](https://github.com/user-attachments/assets/4c6e33bd-8dfa-4c53-b8bc-063be2e596f2)
